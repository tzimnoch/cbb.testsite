(()=>{"use strict";var e,a,r,t,s={232:function(e,a,r){var t=r(848),s=r(540),n=r(338);let i="flex-FadE0K",o=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],c=e=>o[e],d=(e,a)=>a-e,l=e=>function(a){if(a.suit==e)return a.value};function u(e){let{hand:a,direction:r,active:s}=e;var n=["hand-LODQQp"];s&&n.push("active-Z2Wclc");var i=["player-_WUpGy"];return((e,a)=>{switch(e){case"none":default:return!1;case"all":return!0;case"ns":return"north"==a||"south"==a;case"ew":return"east"==a||"west"==a}})("ns",r)&&i.push("vulnerable-Qx9qCP"),(0,t.jsxs)("div",{className:n.join(" "),children:[(0,t.jsx)("div",{className:i.join(" "),children:r}),(0,t.jsxs)("p",{children:["♠ ",a.map(l("spades")).sort(d).map(c)]}),(0,t.jsxs)("p",{children:["♥ ",a.map(l("hearts")).sort(d).map(c)]}),(0,t.jsxs)("p",{children:["♦ ",a.map(l("diamonds")).sort(d).map(c)]}),(0,t.jsxs)("p",{children:["♣ ",a.map(l("clubs")).sort(d).map(c)]})]})}var h=null;let p=function(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return a.reduce((e,a)=>e.flatMap(e=>a.map(a=>m(e,a))))}(["spades","hearts","diamonds","clubs"],[12,11,10,9,8,7,6,5,4,3,2,1,0]);function m(e,a){return{suit:e,value:a}}function v(e,a){var r=e.findIndex(e=>e.suit==a.suit&&e.value==a.value);return r>-1&&e.splice(r,1),e}let j=["2","3","4","5","6","7","8","9","t","j","q","k","a"],y=e=>j[e],x=(e,a)=>a-e,b=e=>function(a){if(a.suit==e)return a.value},f={north:{hand:[]},west:{hand:[]},east:{hand:[]},south:{hand:[]},deck:p,play:[],board_number:null,vulnerability:"none",scoring:"matchpoints",active_player:"north",handviewer_string:null,phase:"edit"};function w(e,a){var r;switch(console.log("Action: "+JSON.stringify(a)),a.type){case"moveCard":return function(e){let{rank:a,suit:r,gameState:t}=e;if(null==r||null==t.active_player||null==a)return t;let s=m(r,a);return v(t.north.hand,s),v(t.south.hand,s),v(t.west.hand,s),v(t.east.hand,s),v(t.deck,s),{...t,[t.active_player]:{hand:[...t[t.active_player].hand,{suit:s.suit,value:s.value}]}}}({rank:a.rank,suit:a.suit,gameState:e});case"setActivePlayer":return{...e,active_player:a.player};case"rotateHands":return{...e,north:e.west,west:e.south,south:e.east,east:e.north};case"generateBridgewinnersHandviewerString":return r="{ghand "+("n=c"+e.north.hand.map(b("clubs")).sort(x).map(y).join("")+"d"+e.north.hand.map(b("diamonds")).sort(x).map(y).join("")+"h"+e.north.hand.map(b("hearts")).sort(x).map(y).join("")+"s"+e.north.hand.map(b("spades")).sort(x).map(y).join("")+"&s=c"+e.south.hand.map(b("clubs")).sort(x).map(y).join("")+"d"+e.south.hand.map(b("diamonds")).sort(x).map(y).join("")+"h"+e.south.hand.map(b("hearts")).sort(x).map(y).join("")+"s"+e.south.hand.map(b("spades")).sort(x).map(y).join("")+"&e=c"+e.east.hand.map(b("clubs")).sort(x).map(y).join("")+"d"+e.east.hand.map(b("diamonds")).sort(x).map(y).join("")+"h"+e.east.hand.map(b("hearts")).sort(x).map(y).join("")+"s"+e.east.hand.map(b("spades")).sort(x).map(y).join("")+"&w=c"+e.west.hand.map(b("clubs")).sort(x).map(y).join("")+"d"+e.west.hand.map(b("diamonds")).sort(x).map(y).join("")+"h"+e.west.hand.map(b("hearts")).sort(x).map(y).join("")+"s"+e.west.hand.map(b("spades")).sort(x).map(y).join(""))+"}",navigator.clipboard.writeText(r),{...e,handviewer_string:r};case"saveToLocal":return localStorage.setItem("cbb_gamestate",JSON.stringify(e)),e;case"loadFromLocal":return JSON.parse(localStorage.getItem("cbb_gamestate"));case"saveToFile":case"loadFromFile":default:return e;case"setBoardNumber":return{...e,board_number:a.board_number}}}n.createRoot(document.getElementById("root")).render((0,t.jsx)(s.StrictMode,{children:(0,t.jsx)(()=>{let[e,a]=(0,s.useReducer)(w,f),r=(0,s.useCallback)(e=>{e&&e.focus()});return(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"content-Fp5dVd",onKeyUp:e=>{!function(e){let{event:a,dispatchGameState:r}=e;if(!a.ctrlKey&&!a.altKey)switch(console.log("keypressed: "+a.key),a.key){case"ArrowDown":return r({type:"setActivePlayer",player:"south"});case"ArrowUp":return r({type:"setActivePlayer",player:"north"});case"ArrowLeft":return r({type:"setActivePlayer",player:"west"});case"ArrowRight":return r({type:"setActivePlayer",player:"east"});case"S":case"s":return h="spades";case"H":case"h":return h="hearts";case"D":case"d":return h="diamonds";case"C":case"c":return h="clubs";case"A":case"a":return r({type:"moveCard",rank:12,suit:h});case"K":case"k":return r({type:"moveCard",rank:11,suit:h});case"Q":case"q":return r({type:"moveCard",rank:10,suit:h});case"J":case"j":return r({type:"moveCard",rank:9,suit:h});case"T":case"t":return r({type:"moveCard",rank:8,suit:h});case"9":return r({type:"moveCard",rank:7,suit:h});case"8":return r({type:"moveCard",rank:6,suit:h});case"7":return r({type:"moveCard",rank:5,suit:h});case"6":return r({type:"moveCard",rank:4,suit:h});case"5":return r({type:"moveCard",rank:3,suit:h});case"4":return r({type:"moveCard",rank:2,suit:h});case"3":return r({type:"moveCard",rank:1,suit:h});case"2":return r({type:"moveCard",rank:0,suit:h})}}({event:e,dispatchGameState:a})},tabIndex:"1",ref:r,children:[(0,t.jsxs)("div",{className:i,children:[(0,t.jsx)("div",{className:i,children:(0,t.jsxs)("p",{children:[(0,t.jsx)("label",{htmlFor:"boardnumber",children:"Board Number: "}),(0,t.jsx)("select",{name:"boardnumber",id:"boardnumber",onChange:e=>a({type:"setBoardNumber",board_number:e.target.value}),children:[...Array(36)].map((e,a)=>(0,t.jsx)("option",{value:a+1,children:a+1},a+1))})]})}),(0,t.jsx)("div",{className:i,children:(0,t.jsx)(u,{hand:e.north.hand,direction:"north",active:"north"==e.active_player})}),(0,t.jsx)("div",{className:i})]}),(0,t.jsxs)("div",{className:i,children:[(0,t.jsx)("div",{className:i,children:(0,t.jsx)(u,{hand:e.west.hand,direction:"west",active:"west"==e.active_player})}),(0,t.jsx)("div",{className:i,children:(0,t.jsx)(u,{hand:e.deck,direction:"center"})}),(0,t.jsx)("div",{className:i,children:(0,t.jsx)(u,{hand:e.east.hand,direction:"east",active:"east"==e.active_player})})]}),(0,t.jsxs)("div",{className:i,children:[(0,t.jsx)("div",{className:i}),(0,t.jsx)("div",{className:i,children:(0,t.jsx)(u,{hand:e.south.hand,direction:"south",active:"south"==e.active_player})}),(0,t.jsx)("div",{className:i})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Buttons"}),(0,t.jsx)("button",{onClick:e=>a({type:"saveToLocal"}),children:"Save Local"}),(0,t.jsx)("button",{onClick:e=>a({type:"loadFromLocal"}),children:"Load Local"}),(0,t.jsx)("button",{onClick:e=>a({type:"saveToFile"}),disabled:!0,children:"Save to file"}),(0,t.jsx)("button",{onClick:e=>a({type:"loadFromFile"}),disabled:!0,children:"Load from file"}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("button",{onClick:e=>a({type:"rotateHands"}),children:"Rotate clockwise"}),"\xa0\xa0",(0,t.jsx)("button",{onClick:()=>a({type:"generateBridgewinnersHandviewerString"}),children:"Generate Bridgewinners handviewer"}),(0,t.jsx)("p",{children:e.handviewer_string?e.handviewer_string+" ✅ copied":""})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Instructions"}),(0,t.jsxs)("p",{children:["Use arrow keys to navigate between north, south, east and west. Select suit with ",(0,t.jsx)("u",{children:"S"}),"pades, ",(0,t.jsx)("u",{children:"H"}),"earts, ",(0,t.jsx)("u",{children:"D"}),"iamonds and ",(0,t.jsx)("u",{children:"C"}),"lubs. Then select the cards."]})]})]})})},{})}))}},n={};function i(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return s[e](r,r.exports,i),r.exports}i.m=s,i.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),e=[],i.O=(a,r,t,s)=>{if(r){s=s||0;for(var n=e.length;n>0&&e[n-1][2]>s;n--)e[n]=e[n-1];e[n]=[r,t,s];return}for(var o=1/0,n=0;n<e.length;n++){for(var[r,t,s]=e[n],c=!0,d=0;d<r.length;d++)(!1&s||o>=s)&&Object.keys(i.O).every(e=>i.O[e](r[d]))?r.splice(d--,1):(c=!1,s<o&&(o=s));if(c){e.splice(n--,1);var l=t();void 0!==l&&(a=l)}}return a},a={410:0},i.O.j=e=>0===a[e],r=(e,r)=>{var t,s,[n,o,c]=r,d=0;if(n.some(e=>0!==a[e])){for(t in o)i.o(o,t)&&(i.m[t]=o[t]);if(c)var l=c(i)}for(e&&e(r);d<n.length;d++)s=n[d],i.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return i.O(l)},(t=self.webpackChunkcbbtools=self.webpackChunkcbbtools||[]).forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t));var o=i.O(void 0,["783"],function(){return i(232)});o=i.O(o)})();