(()=>{"use strict";var e,s,r,t,n={324:function(e,s,r){var t=r(848),n=r(540),a=r(338);let i="flex-FadE0K";function c(e){let{gs:s}=e;return(0,t.jsx)("div",{children:(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"W"}),(0,t.jsx)("td",{children:"N"}),(0,t.jsx)("td",{children:"E"}),(0,t.jsx)("td",{children:"S"})]})}),(0,t.jsx)("tbody",{children:(0,t.jsx)("tr",{})})]})})}let d="red_suit-iPvFIF";var l=null;function o(e){let{dispatchGamestate:s,gs:r}=e,n=e=>{console.log(e)},a=e=>{l=e},i=()=>{console.log(i)},c=()=>{console.log(i)};return(0,t.jsx)("div",{children:(0,t.jsx)("table",{className:"bidding-g85fQh",children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"right-XD4_qk",children:(0,t.jsx)("button",{onClick:e=>n(1),children:"1"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:e=>n(2),children:"2"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:e=>n(3),children:"3"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:e=>n(4),children:"4"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:e=>n(5),children:"5"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:e=>n(6),children:"6"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:e=>n(7),children:"7"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:i,className:"green-pNJNhn",children:"P"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:e=>a("spades"),children:"♠"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:e=>a("hearts"),className:d,children:"♥"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:e=>a("diamonds"),className:d,children:"♦"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:e=>a("clubs"),children:"♣"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:c,className:"red-ohj2ZW",children:"X"})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{onClick:c,className:"blue-VEqlHS",children:"R"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{colSpan:"3",children:null}),(0,t.jsx)("td",{colSpan:"4",children:l})]})]})})})}let h=function(e){let{dispatchGameState:s,gs:r}=e,a=(0,n.useRef)();return(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Buttons"}),(0,t.jsx)("button",{onClick:e=>s({type:"saveToLocal"}),children:"Save Local"}),(0,t.jsx)("button",{onClick:e=>s({type:"loadFromLocal"}),children:"Load Local"}),(0,t.jsx)("button",{onClick:e=>s({type:"saveToFile"}),disabled:!0,children:"Save to file"}),(0,t.jsx)("button",{onClick:e=>s({type:"loadFromFile"}),disabled:!0,children:"Load from file"}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("label",{htmlFor:"hvstring",children:"Handviewer String: "}),(0,t.jsx)("input",{id:"hvstring",type:"text",ref:a}),(0,t.jsx)("button",{onClick:e=>s({type:"loadFromHandviewer",handviewer_string:a.current.value}),children:"Load from handviewer"}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("button",{onClick:e=>s({type:"rotateHands"}),children:"Rotate clockwise"}),(0,t.jsx)("button",{onClick:()=>s({type:"generateBridgewinnersHandviewerString"}),children:"Generate Bridgewinners handviewer"}),(0,t.jsx)("p",{children:r.handviewer_string?r.handviewer_string+" ✅ copied":""})]})},u="handviewer.html?",p="{ghand ";function j(e,s){return{suit:e,value:s}}function m(e){var s=null,r=[];for(var t of e.split(""))switch(t){case"c":s="clubs";break;case"d":s="diamonds";break;case"h":s="hearts";break;case"s":s="spades";break;case"2":r.push(j(s,0));break;case"3":r.push(j(s,1));break;case"4":r.push(j(s,2));break;case"5":r.push(j(s,3));break;case"6":r.push(j(s,4));break;case"7":r.push(j(s,5));break;case"8":r.push(j(s,6));break;case"9":r.push(j(s,7));break;case"t":case"0":r.push(j(s,8));break;case"j":r.push(j(s,9));break;case"q":r.push(j(s,10));break;case"k":r.push(j(s,11));break;case"a":r.push(j(s,12))}return{hand:r}}function x(e){var s=w;for(var r of e.split("&"))switch(r.charAt(0)){case"n":s={...s,north:m(r.slice(2))};break;case"e":s={...s,east:m(r.slice(2))};break;case"w":s={...s,west:m(r.slice(2))};break;case"s":s={...s,south:m(r.slice(2))};break;case"b":s={...s,board_number:r.slice(2)}}return s}let v=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.reduce((e,s)=>e.flatMap(e=>s.map(s=>j(e,s))))}(["spades","hearts","diamonds","clubs"],[12,11,10,9,8,7,6,5,4,3,2,1,0]);function b(e,s){var r=e.findIndex(e=>e.suit==s.suit&&e.value==s.value);return r>-1&&e.splice(r,1),e}let k=["2","3","4","5","6","7","8","9","t","j","q","k","a"],f=e=>k[e],g=(e,s)=>s-e,y=e=>function(s){if(s.suit==e)return s.value},w={north:{hand:[]},west:{hand:[]},east:{hand:[]},south:{hand:[]},deck:v,play:[],board_number:null,vulnerability:"none",scoring:"matchpoints",active_player:"north",handviewer_string:null,phase:"edit",settings:{confirm_bids:!0}};function C(e,s){var r,t,n;switch(console.log("Action: "+JSON.stringify(s)),s.type){case"moveCard":return function(e){let{rank:s,suit:r,gameState:t}=e;if(null==r||null==t.active_player||null==s)return t;let n=j(r,s);return b(t.north.hand,n),b(t.south.hand,n),b(t.west.hand,n),b(t.east.hand,n),b(t.deck,n),{...t,[t.active_player]:{hand:[...t[t.active_player].hand,{suit:n.suit,value:n.value}]}}}({rank:s.rank,suit:s.suit,gameState:e});case"setActivePlayer":return{...e,active_player:s.player};case"rotateHands":return{...e,north:e.west,west:e.south,south:e.east,east:e.north};case"generateBridgewinnersHandviewerString":return r="{ghand "+("n=c"+e.north.hand.map(y("clubs")).sort(g).map(f).join("")+"d"+e.north.hand.map(y("diamonds")).sort(g).map(f).join("")+"h"+e.north.hand.map(y("hearts")).sort(g).map(f).join("")+"s"+e.north.hand.map(y("spades")).sort(g).map(f).join("")+"&s=c"+e.south.hand.map(y("clubs")).sort(g).map(f).join("")+"d"+e.south.hand.map(y("diamonds")).sort(g).map(f).join("")+"h"+e.south.hand.map(y("hearts")).sort(g).map(f).join("")+"s"+e.south.hand.map(y("spades")).sort(g).map(f).join("")+"&e=c"+e.east.hand.map(y("clubs")).sort(g).map(f).join("")+"d"+e.east.hand.map(y("diamonds")).sort(g).map(f).join("")+"h"+e.east.hand.map(y("hearts")).sort(g).map(f).join("")+"s"+e.east.hand.map(y("spades")).sort(g).map(f).join("")+"&w=c"+e.west.hand.map(y("clubs")).sort(g).map(f).join("")+"d"+e.west.hand.map(y("diamonds")).sort(g).map(f).join("")+"h"+e.west.hand.map(y("hearts")).sort(g).map(f).join("")+"s"+e.west.hand.map(y("spades")).sort(g).map(f).join(""))+"}",navigator.clipboard.writeText(r),{...e,handviewer_string:r};case"saveToLocal":return localStorage.setItem("cbb_gamestate",JSON.stringify(e)),e;case"loadFromLocal":return JSON.parse(localStorage.getItem("cbb_gamestate"));case"loadFromHandviewer":let a,i,c;return t=s.handviewer_string,n=null,console.log("decoded input: "+(t=decodeURIComponent(t))),a=t.indexOf("lin="),i=t.indexOf(u),c=t.indexOf(p),a>-1?n=function(e){for(var s=e.split("|"),r=0;r<s.length;r+=2)switch(s[r]){case"pn":case"md":case"sv":case"ah":case"mb":case"pc":case"":case"an":break;default:console.log("Lin parameter: "+s[r]+", value: "+s[r+1])}return null}(t.slice(a+4)):i>-1?n=x(t.slice(i+u.length)):c>-1&&(n=x(t.slice(c+p.length))),null!=n?n:e;case"toggleConfirmBids":return{...e,settings:{...e.settings,confirm_bids:!e.settings.confirm_bids}};case"saveToFile":case"loadFromFile":default:return e;case"setBoardNumber":return{...e,board_number:s.board_number}}}let N=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],_=e=>N[e],S=(e,s)=>s-e,F=e=>function(s){if(s.suit==e)return s.value};function O(e){let{hand:s,direction:r,active:n}=e;var a=["hand-LODQQp"];n&&a.push("active-Z2Wclc");var i=["player-_WUpGy"];return((e,s)=>{switch(e){case"none":default:return!1;case"all":return!0;case"ns":return"north"==s||"south"==s;case"ew":return"east"==s||"west"==s}})("ns",r)&&i.push("vulnerable-Qx9qCP"),(0,t.jsxs)("div",{className:a.join(" "),children:[(0,t.jsx)("div",{className:i.join(" "),children:r}),(0,t.jsxs)("p",{children:["♠ ",s.map(F("spades")).sort(S).map(_)]}),(0,t.jsxs)("p",{children:["♥ ",s.map(F("hearts")).sort(S).map(_)]}),(0,t.jsxs)("p",{children:["♦ ",s.map(F("diamonds")).sort(S).map(_)]}),(0,t.jsxs)("p",{children:["♣ ",s.map(F("clubs")).sort(S).map(_)]})]})}function A(){return(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Instructions"}),(0,t.jsxs)("p",{children:["Use arrow keys to navigate between north, south, east and west. Select suit with ",(0,t.jsx)("u",{children:"S"}),"pades, ",(0,t.jsx)("u",{children:"H"}),"earts,",(0,t.jsx)("u",{children:"D"}),"iamonds and ",(0,t.jsx)("u",{children:"C"}),"lubs. Then select the cards."]})]})}var B=null;function L(e){let{dispatchGameState:s,gs:r}=e,[a,i]=(0,n.useState)(!1);return(0,t.jsxs)("div",{children:[(0,t.jsx)("br",{}),(0,t.jsx)("button",{onClick:()=>{i(!0)},children:"Settings"}),(0,t.jsxs)("dialog",{open:a,onClose:()=>{i(!1)},children:[(0,t.jsx)("h2",{children:"Settings"}),(0,t.jsxs)("form",{children:[(0,t.jsx)("input",{type:"checkbox",id:"confirmBids",checked:r.settings.confirm_bids,onChange:e=>s({type:"toggleConfirmBids"})}),(0,t.jsx)("label",{htmlFor:"confirmBids",children:"Confirm Bids"}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("button",{formMethod:"dialog",children:"Close Settings"})]})]})]})}a.createRoot(document.getElementById("root")).render((0,t.jsx)(n.StrictMode,{children:(0,t.jsx)(()=>{let[e,s]=(0,n.useReducer)(C,w),r=(0,n.useCallback)(e=>{e&&e.focus()});return(0,t.jsxs)("div",{className:"content-Fp5dVd",children:[(0,t.jsxs)("div",{onKeyUp:e=>{!function(e){let{event:s,dispatchGameState:r}=e;if(!s.ctrlKey&&!s.altKey)switch(console.log("keypressed: "+s.key),s.key){case"ArrowDown":return r({type:"setActivePlayer",player:"south"});case"ArrowUp":return r({type:"setActivePlayer",player:"north"});case"ArrowLeft":return r({type:"setActivePlayer",player:"west"});case"ArrowRight":return r({type:"setActivePlayer",player:"east"});case"S":case"s":return B="spades";case"H":case"h":return B="hearts";case"D":case"d":return B="diamonds";case"C":case"c":return B="clubs";case"A":case"a":return r({type:"moveCard",rank:12,suit:B});case"K":case"k":return r({type:"moveCard",rank:11,suit:B});case"Q":case"q":return r({type:"moveCard",rank:10,suit:B});case"J":case"j":return r({type:"moveCard",rank:9,suit:B});case"T":case"t":return r({type:"moveCard",rank:8,suit:B});case"9":return r({type:"moveCard",rank:7,suit:B});case"8":return r({type:"moveCard",rank:6,suit:B});case"7":return r({type:"moveCard",rank:5,suit:B});case"6":return r({type:"moveCard",rank:4,suit:B});case"5":return r({type:"moveCard",rank:3,suit:B});case"4":return r({type:"moveCard",rank:2,suit:B});case"3":return r({type:"moveCard",rank:1,suit:B});case"2":return r({type:"moveCard",rank:0,suit:B})}}({event:e,dispatchGameState:s})},tabIndex:"1",ref:r,children:[(0,t.jsxs)("div",{className:i,children:[(0,t.jsx)("div",{className:i,children:(0,t.jsxs)("p",{children:[(0,t.jsx)("label",{htmlFor:"boardnumber",children:"Board Number: "}),(0,t.jsx)("select",{name:"boardnumber",id:"boardnumber",onChange:e=>s({type:"setBoardNumber",board_number:e.target.value}),children:[...Array(36)].map((e,s)=>(0,t.jsx)("option",{value:s+1,children:s+1},s+1))})]})}),(0,t.jsx)("div",{className:i,children:(0,t.jsx)(O,{hand:e.north.hand,direction:"north",active:"north"==e.active_player})}),(0,t.jsx)("div",{className:i,children:(0,t.jsx)(L,{dispatchGameState:s,gs:e})})]}),(0,t.jsxs)("div",{className:i,children:[(0,t.jsx)("div",{className:i,children:(0,t.jsx)(O,{hand:e.west.hand,direction:"west",active:"west"==e.active_player})}),(0,t.jsx)("div",{className:i,children:(0,t.jsx)(O,{hand:e.deck,direction:"center"})}),(0,t.jsx)("div",{className:i,children:(0,t.jsx)(O,{hand:e.east.hand,direction:"east",active:"east"==e.active_player})})]}),(0,t.jsxs)("div",{className:i,children:[(0,t.jsx)("div",{className:i,children:(0,t.jsx)(c,{gs:e})}),(0,t.jsx)("div",{className:i,children:(0,t.jsx)(O,{hand:e.south.hand,direction:"south",active:"south"==e.active_player})}),(0,t.jsx)("div",{className:i,children:(0,t.jsx)(o,{dispatchGamestate:s,gs:e})})]})]}),(0,t.jsx)(h,{dispatchGameState:s,gs:e}),(0,t.jsx)(A,{})]})},{})}))}},a={};function i(e){var s=a[e];if(void 0!==s)return s.exports;var r=a[e]={exports:{}};return n[e](r,r.exports,i),r.exports}i.m=n,i.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),e=[],i.O=(s,r,t,n)=>{if(r){n=n||0;for(var a=e.length;a>0&&e[a-1][2]>n;a--)e[a]=e[a-1];e[a]=[r,t,n];return}for(var c=1/0,a=0;a<e.length;a++){for(var[r,t,n]=e[a],d=!0,l=0;l<r.length;l++)(!1&n||c>=n)&&Object.keys(i.O).every(e=>i.O[e](r[l]))?r.splice(l--,1):(d=!1,n<c&&(c=n));if(d){e.splice(a--,1);var o=t();void 0!==o&&(s=o)}}return s},s={410:0},i.O.j=e=>0===s[e],r=(e,r)=>{var t,n,[a,c,d]=r,l=0;if(a.some(e=>0!==s[e])){for(t in c)i.o(c,t)&&(i.m[t]=c[t]);if(d)var o=d(i)}for(e&&e(r);l<a.length;l++)n=a[l],i.o(s,n)&&s[n]&&s[n][0](),s[n]=0;return i.O(o)},(t=self.webpackChunkcbbtools=self.webpackChunkcbbtools||[]).forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t));var c=i.O(void 0,["783"],function(){return i(324)});c=i.O(c)})();